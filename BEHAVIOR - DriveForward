package behaviorControl;

import lejos.hardware.Button;
import lejos.robotics.navigation.MovePilot;
import lejos.robotics.subsumption.Behavior;

public class DriveForward implements Behavior 
{
	private boolean suppressed = false;
	private final RobotConfig robot;
	private final MovePilot pilot;
	
	public DriveForward(RobotConfig robot)
	{
		this.robot = robot;
		pilot = this.robot.getPilot();
	}
	
	@Override
	public boolean takeControl() 
	{
		return true;
	}

	@Override
	public void action() 
	{
		Button.LEDPattern(1);
		Runnable runnable = new Runnable() 
		{
			@Override
			public void run() 
			{
				pilot.backward();
			}
		};
		Thread thread = new Thread(runnable);
		thread.start();
		//pilot.travel(240, true);
		while(!suppressed)
		{
			Thread.yield();
		}
		pilot.stop();
	}

	@Override
	public void suppress() 
	{
		suppressed = true;
	}
	
	public static void main(String[] args)
	{
		
	}
}
