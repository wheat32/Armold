package behaviorControl;

import lejos.robotics.navigation.MovePilot;
import lejos.robotics.subsumption.Behavior;

public class DriveForward implements Behavior 
{
	private boolean suppressed = false;
	private final RobotConfig robot;
	private final MovePilot pilot;
	
	public DriveForward(RobotConfig robot)
	{
		this.robot = robot;
		pilot = this.robot.getPilot();
	}
	
	@Override
	public boolean takeControl() 
	{
		return true;
	}

	@Override
	public void action() 
	{
		pilot.backward();
		while(!suppressed)
		{
			Thread.yield();
		}
		pilot.stop();
	}

	@Override
	public void suppress() 
	{
		suppressed = true;
	}
}
